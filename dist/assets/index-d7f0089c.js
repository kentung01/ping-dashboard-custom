import{d as V,k as A,J as E,i as u,x as v,j as R,r as S,o as n,l,n as t,q as p,t as d,w as M,s as P,M as U,m as g,A as C,F as L,p as j,z as x,ag as D,O as G,P as z,T as q}from"./index-b40d15d5.js";const I={class:"flex flex-col items-center justify-center mb-6 mt-14 gap-4"},J=["src"],O={key:1,class:"w-16 rounded-full"},W=q(`<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150.000000 132.000000" preserveAspectRatio="xMidYMid meet"><g transform="translate(0.000000,132.000000) scale(0.100000,-0.100000)" fill="#666CFF" class="" stroke="none"><path d="M500 1310 l-125 -5 -182 -315 c-100 -173 -182 -321 -182 -329 -1 -7
            81 -159 181 -337 l183 -324 372 0 371 0 186 325 c102 179 186 330 186 337 0 7
            -82 157 -182 335 l-183 323 -250 -2 c-137 -1 -306 -5 -375 -8z m588 -454 c61
            -106 112 -197 112 -201 0 -4 -50 -95 -111 -201 l-112 -194 -231 0 -231 0 -105
            181 c-58 100 -109 190 -114 200 -6 14 17 63 104 213 l112 196 232 0 231 0 113
            -194z"></path><path d="M591 1001 l-54 -6 -87 -150 -88 -150 176 -3 c97 -1 181 -1 187 2 9 3
            165 267 183 308 4 9 -233 7 -317 -1z"></path><path d="M872 824 l-90 -159 36 -66 c113 -201 147 -258 153 -251 8 8 179 302
            179 307 0 2 -37 68 -83 147 -46 78 -88 151 -94 162 -9 16 -24 -5 -101 -140z"></path><path d="M360 625 c0 -7 148 -263 172 -297 l19 -28 186 0 c101 0 183 3 181 8
            -1 4 -43 78 -93 165 l-90 157 -187 0 c-104 0 -188 -2 -188 -5z"></path></g></svg>`,1),Y=[W],H={class:"text-primary text-3xl md:!text-6xl font-bold capitalize"},K={class:"bg-base-100 my-5 px-4 pt-3 pb-4 rounded shadow"},Q=t("h2",{class:"card-title"},"Get Tokens",-1),X=["disabled"],Z=["disabled"],tt={class:"bg-base-100 my-5 px-4 pt-3 pb-4 rounded shadow"},et=t("h2",{class:"card-title"},"Enable Faucet",-1),st={class:"mt-4"},at=t("span",{class:"text-base"}," 1. Submit chain configuration",-1),ot={class:"mockup-code bg-base-200 my-2 gap-4"},nt={class:"text-gray-800 dark:invert"},lt={class:"text-xs text-red-500"},ct=t("pre",null,null,-1),dt=t("a",{class:"btn-ghost text-white rounded-md p-2 ml-4",href:"https://github.com/ping-pub/ping.pub/blob/main/faucet.md"},"Update",-1),rt=t("span",{class:"text-base"}," 2. Fund the faucet account",-1),it={class:"mockup-code bg-base-200 my-2"},ut={"data-prefix":">"},_t={class:"text-gray-800 dark:invert"},ht={"data-prefix":">"},pt={class:"text-gray-800 dark:invert"},mt={class:"modal",role:"dialog"},vt={class:"modal-box"},bt={key:0},ft=t("h3",{class:"font-bold text-red-500"}," Error ",-1),gt={key:1},xt=t("h3",{class:"font-bold text-green-500"}," Token Sent! ",-1),kt={class:"text-center mt-4"},yt={key:2,class:"font-bold text-lg"},wt=t("span",{class:"loading loading-bars loading-sm"},null,-1),Ft=t("div",{class:"modal-action"},[t("label",{for:"my_modal_6",class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕")],-1),Mt={class:"py-2"},Bt=V({__name:"index",setup(Ct){const a=A(),B=E(),r=u(""),b=u(""),m=u([]),f=u(!1),i=u({}),k=u(""),y=v(()=>{var c,_,h;const e=(_=(c=a.current)==null?void 0:c.endpoints)==null?void 0:_.rest,s=m.value.length>0&&m.value.findIndex(o=>o.amount<=10)===-1;return[{title:"Rest Endpoint",status:e&&e[0].address!==""},{title:"Faucet Configured",status:((h=a.current)==null?void 0:h.faucet)!==void 0},{title:"Faucet Account",status:b.value!==""},{title:"Faucet Balance",status:s}]}),w=v(()=>{for(const e of y.value)if(!e.status)return!0;return!1}),T=v(()=>{var e;return r.value?r.value.startsWith(((e=a.current)==null?void 0:e.bech32Prefix)||"1"):!0}),F=v(()=>{var e;return`https://faucet.ping.pub/${(e=a.current)==null?void 0:e.chainName}`});function $(){var e;i.value={},(e=a.current)!=null&&e.bech32Prefix,r.value&&(f.value=!0,z(`${F.value}/send/${r.value}`).then(s=>{console.log(s),i.value=s}))}function N(){z(`${F.value}/balance`).then(e=>{var s,c;if(e.status==="error"){k.value=e.message;return}m.value=(s=e.result)==null?void 0:s.balance,b.value=(c=e.result)==null?void 0:c.address})}return R(()=>{a.current&&a.current.faucet&&N()}),(e,s)=>{var _,h;const c=S("RouterLink");return n(),l("div",null,[t("div",I,[(_=p(a).current)!=null&&_.logo?(n(),l("img",{key:0,src:`${(h=p(a).current)==null?void 0:h.logo}`,class:"w-16 rounded-md"},null,8,J)):(n(),l("div",O,Y)),t("h1",H,d(p(a).chainName)+" Faucet ",1)]),t("div",K,[Q,M(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>r.value=o),class:U(["mt-4 mb-4 w-full border border-gray-300 rounded-md p-2",{"input-error":!T.value}]),disabled:w.value,placeholder:"Enter your address"},null,10,X),[[P,r.value]]),t("button",{class:"btn btn-primary w-full bg-primary text-white",disabled:w.value,onClick:s[1]||(s[1]=o=>$())},"Get Tokens",8,Z)]),g(C,{id:"home-banner-ad",unit:"banner"}),t("div",tt,[et,t("div",st,[at,t("div",ot,[(n(!0),l(L,null,j(y.value,o=>(n(),l("div",null,[t("pre",null,[t("code",nt,d(o.title)+": ",1),x(d(o.status?"✅":"❌")+" ",1)])]))),256)),t("pre",lt,d(k.value),1),ct,dt]),rt,t("div",it,[t("pre",ut,[t("code",_t," Faucet Address: "+d(b.value)+" ",1)]),t("pre",ht,[t("code",pt," Balances: "+d(p(B).formatTokens(m.value))+" ",1)])])])]),M(t("input",{type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=o=>f.value=o),id:"my_modal_6",class:"modal-toggle"},null,512),[[D,f.value]]),t("div",mt,[t("div",vt,[i.value.status==="error"?(n(),l("div",bt,[ft,t("div",null,d(i.value.message),1)])):i.value.status==="ok"?(n(),l("div",gt,[xt,t("div",kt,[g(c,{to:`/${p(a).chainName}/tx/${i.value.result.txhash}`},{default:G(()=>[x("View Transaction")]),_:1},8,["to"])])])):(n(),l("h3",yt,[x(" Processing "),wt])),Ft,t("p",Mt,[t("div",null,[g(C,{id:"popup-ad",unit:"popup"})])])])])])}}});export{Bt as default};
