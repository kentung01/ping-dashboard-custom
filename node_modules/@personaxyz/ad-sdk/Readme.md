# Persona Ad SDK

Persona Ad SDK is a JavaScript-based software development kit that enables web app developers to display digital advertisements on their web apps using Persona's ad network. This SDK provides seamless integration with major frontend frameworks such as React, Vue, Angular, and more.

## Installation

To install the sdk , run the following command

```
npm install @personaxyz/ad-sdk
```

## Integration

To integrate the sdk, follow these steps

1. Initialize the sdk
2. Initialize the client
3. Render a banner ad by calling `showBannerAd` function

### Initialize the sdk

Once the sdk is installed, you can initialize the sdk by creating a file `adConfig.js` and paste the following snippet in the `adConfig.js` file.

```
import { PersonaAdSDK } from '@personaxyz/ad-sdk';

const personaConfig = {
    apiKey: <YOUR_API_KEY>, // An API Key is generated once you register an app with us.
    environment: 'staging', // use value 'production' when going live
}

const sdk = new PersonaAdSDK(personaConfig)
```

### Initialize the client

Once the sdk is initialized following the above step, we need to initialize a client.
To initialize a client, add the following snippet to the same file.

```
export const adClient = sdk.getClient()
```

### Render an ad

Now that the client is initiated, we can use the `adClient` object anywhere in the app to render an ad.

```
import { adClient } from '/path/to/adConfig.js'

adClient.showBannerAd({
    adUnitId: <AD_UNIT_ID>, // An ad unit id is generated when an ad unit is created for a registered app
    containerId: <DOM_ELEMENT_ID>, // HTML element's id where the ad needs to render on the app
})
```

## Additional Features

#### Supported banner Ad Formats

1. 600x160
2. 300x250
3. 970x90

**NOTE**: An ad's dimensions can be configured while creating an ad unit

#### Ad personalization

If your app supports integrating user's wallet address or email, you can use the `adClient` object to set wallet address or email respectively. This will help in increasing the maximum earned CPM by personalizing the ads.

```
adClient.setWalletAddress('1Lbcfr7sAHT....')

adClient.setUserEmail('janedoe@email.com')
```

**We recommend setting up these information as early in the app as possible for a rich ad experience**


# Usage Examples
The following examples include sample **React.js** and **Vue.js** implementations.

## Sample React.js Implementation

Once we have exported the `adClient` object from `adConfig.js` file, we can create a reusable Banner Ad component as shown below

```
import { useEffect } from 'react';
import { adClient } from "/path/to/adConfig.js";

export const BannerAd = (props) => {
    const { id, adUnitId, width, height } = props;

    useEffect(() => {
        adClient.setWalletAddress("1Lbcfr7sAHT....")
        adClient.setUserEmail("janedoe@email.com")
        adClient.showBannerAd({
            adUnitId,
            containerId: id,
        })
    }, [])

    return <div id={id} style={{ width, height }}></div>
}
```

The above component can now be used just like any other React component in your app as shown below

```
<BannerAd id="my-banner-ad" adUnitId="<generated-ad-unit-id>" width="600" height="160"/>
```

## Sample Vue.js Implementation

Once we have exported the `adClient` object from `adConfig.js` file, we can create a reusable Banner Ad component as shown below

```
<template>
  <div :id="id" :style="{ width, height }"></div>
</template>

<script>
import { adClient } from '/path/to/adConfig.js';

export default {
  props: {
    id: {
      type: String,
      required: true,
    },
    adUnitId: {
      type: String,
      required: true,
    },
    width: {
      type: String,
      required: true,
    },
    height: {
      type: String,
      required: true,
    },
  },
  computed: {
    walletAddress() {
      // Compute the wallet address dynamically
      // Replace the return statement with your actual computation logic
      return '1Lbcfr7sAHT....';
    },
    userEmail() {
      // Compute the user email dynamically
      // Replace the return statement with your actual computation logic
      return 'janedoe@email.com';
    },
  },
  mounted(){
    adClient.setWalletAddress(this.walletAddress);
    adClient.setUserEmail(this.userEmail);
    adClient.showBannerAd({
        adUnitId: this.adUnitId,
        containerId: this.id,
    });
  }
}
</script>
```

The above component can now be used just like any other Vue.js component in your app as shown below
```
<template>
  <div>
    <BannerAd id="banner-ad" adUnitId="<generated-ad-unit-id>" width="300px" height="250px"/>
  </div>
</template>

<script>
import BannerAd from '/path/to/BannerAdVueComponent';

export default {
  components: {
    BannerAd,
  },
};
</script>
```
**Note** : The above is just a sample implementation and you may choose to write your own implementation.